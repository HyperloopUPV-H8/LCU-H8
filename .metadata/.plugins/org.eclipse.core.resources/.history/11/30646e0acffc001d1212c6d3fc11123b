#pragma once
#include "../ControlBlock.hpp"

template<size_t U, size_t V, size_t W> class MatrixMultiplier;

template<size_t U, size_t V, size_t W>
class MatrixMultiplier<U,V,W> : public ControlBlock<double(&)[U][V], double(&)[V][U]>{
	double(&A)[U][V], (&B)[V][W], (&result)[U][W];
	MatrixMultiplier(double(&A)[U][V], double(&B)[V][W], double(&result)[U][W]) : A(A), B(B), result(result){
		this->output_value = result;
	}

	void execute() override{
	    for (int i = 0; i < R1; i++) {
	        for (int j = 0; j < C2; j++) {
	            result[i][j] = 0;
	            for (int k = 0; k < R2; k++)
	                result[i][j] += A[i][k] * B[k][j];
	        }

	        printf("\n");
	    }
	}
};

template<size_t U, size_t W>
class MatrixMultiplier<U,1,W> : public ControlBlock<double(&)[U], double(&)[U]>{

};
